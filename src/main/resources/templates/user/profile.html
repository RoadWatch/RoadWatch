<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
  <head>
    <meta charset="UTF-8">
    <title>BCRW.host</title>
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
      <div th:replace="partials/header :: head"></div>
    <link rel="stylesheet" href="forum.css">
</head>


<body>
<nav th:include="partials/navbar :: nav"></nav>

<div class="container">
<!--    <nav th:include="partials/navbar :: nav"></nav>-->

    <div class="card text-center" id="profileMaincard">
        <div class="card-header" id="profileCard">
            <h1>Welcome,</h1>
            <h3>Here is <span th:text="${user.getUsername()} + '\'s'"></span> profile information</h3>
        </div>

        <p class="profileMainCardText">First Name:<span th:text="${user.getFirstName()}"> </span></p><br>
        <p class="profileMainCardText">Last Name:<span th:text="${user.getLastName()}"> </span></p><br>
        <p class="profileMainCardText">Username:<span th:text="${user.getUsername()}"> </span></p><br>
        <p class="profileMainCardText">Email:<span th:text="${user.getEmail()}"> </span></p>


        <!-- Button trigger modal -->
        <div class="d-flex justify-content-center">
        <button type="button" class="btn btn-info justify-content-center  profileEditDeleteButton " id="profileEditButton" data-toggle="modal" data-target="#exampleModal" style="    font-family: 'Titillium Web', sans-serif;
">
            Edit
            <img src ="/images/edit%20copy.png" id="profileEditIdButton">
        </button>
        <button type="button" class="btn btn-danger justify-content-center profileEditDeleteButton"  id="profileDeleteButton" data-toggle="modal" data-target="#Modal" style="    font-family: 'Titillium Web', sans-serif;
">
            Delete
            <img src="/images/delete.png">
        </button>
        </div>
        <!-- Modal -->
        <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
             aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Edit User information</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="modal-body mx-3">
                            <form th:action="${'/user/' +  user.id +'/edit'}" th:method="POST" th:object="${user}">
                                <div class="md-form mb-5">
<!--                                    <i class="fas fa-user prefix grey-text"></i>-->
                                    <input type="text" id="firstName" class="form-control validate     font-family: 'Titillium Web', sans-serif;
"
                                           th:value="${user.firstName}" th:field="*{firstName}"
                                                                                style="background: transparent;
                                                                                color:white;
                                                                                border: none;
                                                                                border-bottom: 1px solid #ffffff;
                                                                                border-radius: 0px
                                                                                color:white">
                                    <label data-error="wrong" data-success="right" for="firstName" class="profileEditTitles" >Update first
                                        name</label>
                                </div>

                                <div class="md-form mb-5">
<!--                                    <i class="fas fa-user prefix grey-text"></i>-->
                                    <input type="text" id="lastName" class="form-control validate profileInputEditForm"
                                           th:value="${user.lastName}" th:field="*{lastName}"
                                                                                style="background: transparent;
                                                                                color:white;
                                                                                border: none;
                                                                                border-bottom: 1px solid #ffffff;
                                                                                border-radius: 0px">
                                    <label data-error="wrong" data-success="right" for="lastName" class="profileEditTitles">Update last
                                        name</label>
                                </div>

                                <div class="md-form mb-5">
<!--                                    <i class="fas fa-tag prefix grey-text"></i>-->
                                    <input type="text" id="username" class="form-control validate profileInputEditForm"
                                           th:value="${user.username}" th:field="*{username}"style="background: transparent;
                                                                                color:white;
                                                                                border: none;
                                                                                border-bottom: 1px solid #ffffff;
                                                                                border-radius: 0px">
                                    <label data-error="wrong" data-success="right" for="username" class="profileEditTitles">Update
                                        Username</label>
                                </div>

                                <div class="md-form mb-5">
<!--                                    <i class="fas fa-envelope prefix grey-text"></i>-->
                                    <input type="email" id="email" class="form-control validate profileInputEditForm"
                                           th:value="${user.email}" th:field="*{email}"style="background: transparent;
                                                                                color:white;
                                                                                border: none;
                                                                                border-bottom: 1px solid #ffffff;
                                                                                border-radius: 0px">
                                    <label data-error="wrong" data-success="right" for="email" class="profileEditTitles">Update Your email</label>
                                </div>

                                <div class="md-form mb-5">
<!--                                    <i class="prefix grey-text"></i>-->
                                    <input type="hidden" id="password" class="form-control validate"
                                           th:value="${user.getPassword()}" th:field="*{password}"style="background: transparent;
                                                                                color:white;
                                                                                border: none;
                                                                                border-bottom: 1px solid #ffffff;
                                                                                border-radius: 0px">
                                    <label data-error="wrong" data-success="right" for="password"></label>
                                </div>

                                <div class="modal-footer" id="profileEditModalFooter">
<!--                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>-->
                                    <button type="submit" class="btn" style="background-color: #4152D0; color: white; font-family: 'Titillium Web', sans-serif;
">Save changes</button>
                                </div>
                            </form>
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <div class="modal fade" id="Modal" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
             aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="ModalLabel">Are you sure you want to delete this profile?</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body " style="">
                        <div class="modal-body mx-3">
                            <form th:action="${'/user/' +  user.id +'/delete'}" th:method="POST" th:object="${user}">
                                <div class="md-form mb-5">
<!--                                    <i class="fas fa-user prefix grey-text"></i>-->
                                    <input type="text" id="username" class="form-control validate"
                                           th:value="${user.username}" th:field="*{username}"style="background: transparent;
                                                                                color:white;
                                                                                border: none;
                                                                                border-bottom: 1px solid #ffffff;
                                                                                border-radius: 0px">
                                    <label data-error="wrong" data-success="right" for="firstName" style="color:white">Update first
                                        name</label>
                                </div>
                                <div class=" justify-content-center" id="profileDeleteModalFooter">

<!--                                <div class="modal-footer justify-content-center" id="profileDeleteModalFooter">-->
                                    <button type="button" class="btn btn-secondary justify-content-center" data-dismiss="modal">Cancel</button>
                                    <button type="submit" class="btn justify-content-center" style="background-color: #F77D4B; color: white">Confirm Delete</button>
                                </div>
                            </form>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>

<!--<hr>-->
<!--&lt;!&ndash;<div class="col-sm-6">&ndash;&gt;-->
<!--<th:block th:each="report : ${reports}">-->
<!--    <div class="card m-auto user" th:id="${report.id}">-->
<!--        <img-->
<!--                th:src="*{report.filePath != null} ? *{report.filePath} : ('https://pbs.twimg.com/profile_images/1191407906912161801/c1oHDM_9_400x400.jpg')"-->
<!--                class="card-img-top px-5 py-2" alt="report_img"-->
<!--                id="report-card-img">-->
<!--        <div class="card-body user-body"-->
<!--             id="card-body">-->
<!--            <div class="user-inner">-->
<!--                <h5 class="card-title text-center" th:text="${report.query.toUpperCase()}" >Card-->
<!--                    title</h5>-->
<!--                <hr>-->
<!--                <small>-->
<!--                    Author: <span th:text="${report.user.username}"></span>-->
<!--                </small>-->
<!--                <p class="card-text"-->
<!--                   th:text="${report.description}"></p>-->
<!--                <div sec:authorize="${isAuthenticated()}" class="d-flex align-items-baseline">-->
<!--                    <hr>-->
<!--                    -->
<!--                    <hr>-->
<!--                    <form th:action="@{'/endorsements/'+${report.id}+'/2'}" method="post">-->
<!--                        <button type="submit"-->
<!--                                class="btn btn-outline-light text-light">-->
<!--                            <i class="fas fa-road"></i>-->
<!--                            Reported cleared?-->
<!--                        </button>-->
<!--                    </form>-->
<!--                </div>-->
<!--                <div sec:authorize="${!isAuthenticated()}" class="d-flex align-items-baseline">-->
<!--                    <a href="/" class="btn btn-outline-light text-dark">-->
<!--                        <span th:text=" ${report.positiveEndorsementCount}"></span>-->
<!--                        <i class="far fa-thumbs-up mx-2"></i>-->
<!--                    </a>-->
<!--                    <a href="/" class="btn btn-outline-light text-dark">-->
<!--                        <span th:text=" ${report.negativeEndorsementCount}"></span>-->
<!--                        <i class="far fa-thumbs-down mx-2"></i> </a>-->
<!--                </div>-->
<!--                &lt;!&ndash;                                end inner&ndash;&gt;-->
<!--            </div>-->
<!--            &lt;!&ndash;                            end&ndash;&gt;-->
<!--        </div>-->
<!--        -->

<!--        -->
<!--        -->
<!--        <hr>-->
<!--        <p th:text="${report.dateEntered}"-->
<!--           class="ml-2"></p>-->
<!--    </div>-->

</th:block>

<footer th:include="partials/footer :: footer"
        class="p-3 mb-2 text-white"
        style="background: #4052D0"></footer>
</body>
</html>